<% layout('./layouts/boilerplate.ejs')%>
<%- include('../../layouts/partials/settings.ejs') %>
<title>Discover</title>


    <div class="content fullscreen" id="content-menu">
        <meta property="og:image"  content="https://gukari.com/imgs/home/logo.png">
        <div class="contentmain">
            <section class="image scroll">
    
                <div id="default-carousel" class="relative w-full" data-carousel="slide">
                    <!-- Carousel wrapper -->
                    <div class="relative h-56 overflow-hidden rounded-lg md:h-96">
                        <!-- Item 1 -->
                        <div class="hidden duration-700 ease-in-out" data-carousel-item>
                            <img src="https://kahoot.com/files/2022/09/Webinar_posterframe.png"
                                class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
                        </div>
                        <!-- Item 2 -->
                        <div class="hidden duration-700 ease-in-out" data-carousel-item>
                            <img src="https://kahoot.com/files/2023/05/Mosaic-Visual-1.png"
                                class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
                        </div>
                        <!-- Item 3 -->
                        <div class="hidden duration-700 ease-in-out" data-carousel-item>
                            <img src="	https://kahoot.com/files/2022/01/Group-79.png"
                                class=" absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
                        </div>
                        <!-- Item 4 -->
                        <div class="hidden duration-700 ease-in-out" data-carousel-item>
                            <img src="https://kahoot.com/files/2023/03/desktop-mosaic-tallestower-9.jpg"
                                class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
                        </div>
                        <!-- Item 5 -->
                        <div class="hidden duration-700 ease-in-out" data-carousel-item>
                            <img src="https://kahoot.com/files/2022/09/desktop-no-logologo-mosaic.jpg"
                                class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
                        </div>
                    </div>
                    <!-- Slider indicators -->
                    <div class="absolute z-30 flex space-x-3 -translate-x-1/2 bottom-5 left-1/2">
                        <button type="button" class="w-3 h-3 rounded-full" aria-current="true" aria-label="Slide 1"
                            data-carousel-slide-to="0"></button>
                        <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 2"
                            data-carousel-slide-to="1"></button>
                        <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 3"
                            data-carousel-slide-to="2"></button>
                        <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 4"
                            data-carousel-slide-to="3"></button>
                        <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 5"
                            data-carousel-slide-to="4"></button>
                    </div>
                    <!-- Slider controls -->
                    <button type="button"
                        class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
                        data-carousel-prev>
                        <span
                            class="inline-flex items-center justify-center w-8 h-8 rounded-full sm:w-10 sm:h-10 bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
                            <svg aria-hidden="true" class="w-5 h-5 text-white sm:w-6 sm:h-6 dark:text-gray-800" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
                                </path>
                            </svg>
                            <span class="sr-only">Previous</span>
                        </span>
                    </button>
                    <button type="button"
                        class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
                        data-carousel-next>
                        <span
                            class="inline-flex items-center justify-center w-8 h-8 rounded-full sm:w-10 sm:h-10 bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
                            <svg aria-hidden="true" class="w-5 h-5 text-white sm:w-6 sm:h-6 dark:text-gray-800" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7">
                                </path>
                            </svg>
                            <span class="sr-only">Next</span>
                        </span>
                    </button>
                </div>
    
            </section>
            <div class="flex justify-center items-center">
                <section>
                    <div data-v-8ad5aaf4="" class="relative mx-auto mt-2 mb-2 overflow-hidden md:mt-2"><!----> <!---->
                        <div data-v-8ad5aaf4=""
                            class="flex px-4 py-1 mx-auto space-x-5 overflow-x-auto overflow-y-hidden md:space-x-8 smooth-scroll no-scrollbar">
                            <!----> <!---->
                            <div data-v-8ad5aaf4=""
                                class="flex flex-col items-center transition duration-300 transform cursor-pointer hover:scale-110">
                                <div data-v-8ad5aaf4=""
                                    class="subject-image-container border rounded-full w-14 h-14 md:w-16 md:h-16 border-dark-6">
                                    <div data-v-8ad5aaf4="" aria-hidden="true" class="bg-center bg-contain w-full h-full"
                                        style="background-image: url(&quot;https://cf.quizizz.com/image/subject-math.png&quot;);">
                                    </div>
                                </div> <span data-v-8ad5aaf4=""
                                    class="text-xs font-semibold text-center md:text-sm text-dark-3 whitespace-nowrap"><span
                                        data-v-8ad5aaf4="" translate="no" class="_i18n-container LANG_en"
                                        maxlenght="-1">Math</span></span>
                            </div>
                            <div data-v-8ad5aaf4=""
                                class="flex flex-col items-center transition duration-300 transform cursor-pointer hover:scale-110">
                                <div data-v-8ad5aaf4=""
                                    class="subject-image-container border rounded-full w-14 h-14 md:w-16 md:h-16 border-dark-6">
                                    <div data-v-8ad5aaf4="" aria-hidden="true" class="bg-center bg-contain w-full h-full"
                                        style="background-image: url(&quot;https://cf.quizizz.com/image/subject-english.png&quot;);">
                                    </div>
                                </div> <span data-v-8ad5aaf4=""
                                    class="text-xs font-semibold text-center md:text-sm text-dark-3 whitespace-nowrap"><span
                                        data-v-8ad5aaf4="" translate="no" class="_i18n-container LANG_en"
                                        maxlenght="-1">English</span></span>
                            </div>
                            <div data-v-8ad5aaf4=""
                                class="flex flex-col items-center transition duration-300 transform cursor-pointer hover:scale-110">
                                <div data-v-8ad5aaf4=""
                                    class="subject-image-container border rounded-full w-14 h-14 md:w-16 md:h-16 border-dark-6">
                                    <div data-v-8ad5aaf4="" aria-hidden="true" class="bg-center bg-contain w-full h-full"
                                        style="background-image: url(&quot;https://cf.quizizz.com/image/subject-social-studies.png&quot;);">
                                    </div>
                                </div> <span data-v-8ad5aaf4=""
                                    class="text-xs font-semibold text-center md:text-sm text-dark-3 whitespace-nowrap"><span
                                        data-v-8ad5aaf4="" translate="no" class="_i18n-container LANG_en"
                                        maxlenght="-1">Social
                                        Studies</span></span>
                            </div>
                            <div data-v-8ad5aaf4=""
                                class="flex flex-col items-center transition duration-300 transform cursor-pointer hover:scale-110">
                                <div data-v-8ad5aaf4=""
                                    class="subject-image-container border rounded-full w-14 h-14 md:w-16 md:h-16 border-dark-6">
                                    <div data-v-8ad5aaf4="" aria-hidden="true" class="bg-center bg-contain w-full h-full"
                                        style="background-image: url(&quot;https://cf.quizizz.com/image/subject-world-languages.png&quot;);">
                                    </div>
                                </div> <span data-v-8ad5aaf4=""
                                    class="text-xs font-semibold text-center md:text-sm text-dark-3 whitespace-nowrap"><span
                                        data-v-8ad5aaf4="" translate="no" class="_i18n-container LANG_en"
                                        maxlenght="-1">Languages</span></span>
                            </div>
                            <div data-v-8ad5aaf4=""
                                class="flex flex-col items-center transition duration-300 transform cursor-pointer hover:scale-110">
                                <div data-v-8ad5aaf4=""
                                    class="subject-image-container border rounded-full w-14 h-14 md:w-16 md:h-16 border-dark-6">
                                    <div data-v-8ad5aaf4="" aria-hidden="true" class="bg-center bg-contain w-full h-full"
                                        style="background-image: url(&quot;https://cf.quizizz.com/image/subject-science.png&quot;);">
                                    </div>
                                </div> <span data-v-8ad5aaf4=""
                                    class="text-xs font-semibold text-center md:text-sm text-dark-3 whitespace-nowrap"><span
                                        data-v-8ad5aaf4="" translate="no" class="_i18n-container LANG_en"
                                        maxlenght="-1">Science</span></span>
                            </div>
                            <div data-v-8ad5aaf4=""
                                class="flex flex-col items-center transition duration-300 transform cursor-pointer hover:scale-110">
                                <div data-v-8ad5aaf4=""
                                    class="subject-image-container border rounded-full w-14 h-14 md:w-16 md:h-16 border-dark-6">
                                    <div data-v-8ad5aaf4="" aria-hidden="true" class="bg-center bg-contain w-full h-full"
                                        style="background-image: url(&quot;https://cf.quizizz.com/image/subject-computers.png&quot;);">
                                    </div>
                                </div> <span data-v-8ad5aaf4=""
                                    class="text-xs font-semibold text-center md:text-sm text-dark-3 whitespace-nowrap"><span
                                        data-v-8ad5aaf4="" translate="no" class="_i18n-container LANG_en"
                                        maxlenght="-1">Computers</span></span>
                            </div>
                            <div data-v-8ad5aaf4=""
                                class="flex flex-col items-center transition duration-300 transform cursor-pointer hover:scale-110">
                                <div data-v-8ad5aaf4=""
                                    class="subject-image-container border rounded-full w-14 h-14 md:w-16 md:h-16 border-dark-6">
                                    <div data-v-8ad5aaf4="" aria-hidden="true" class="bg-center bg-contain w-full h-full"
                                        style="background-image: url(&quot;https://cf.quizizz.com/image/subject-career-ed-professional-development.png&quot;);">
                                    </div>
                                </div> <span data-v-8ad5aaf4=""
                                    class="text-xs font-semibold text-center md:text-sm text-dark-3 whitespace-nowrap"><span
                                        data-v-8ad5aaf4="" translate="no" class="_i18n-container LANG_en"
                                        maxlenght="-1">Career
                                        Ed</span></span>
                            </div>
                            <div data-v-8ad5aaf4=""
                                class="flex flex-col items-center transition duration-300 transform cursor-pointer hover:scale-110">
                                <div data-v-8ad5aaf4=""
                                    class="subject-image-container border rounded-full w-14 h-14 md:w-16 md:h-16 border-dark-6">
                                    <div data-v-8ad5aaf4="" aria-hidden="true" class="bg-center bg-contain w-full h-full"
                                        style="background-image: url(&quot;https://cf.quizizz.com/image/subject-arts-music.png&quot;);">
                                    </div>
                                </div> <span data-v-8ad5aaf4=""
                                    class="text-xs font-semibold text-center md:text-sm text-dark-3 whitespace-nowrap"><span
                                        data-v-8ad5aaf4="" translate="no" class="_i18n-container LANG_en"
                                        maxlenght="-1">Creative
                                        Arts</span></span>
                            </div>
                            <div data-v-8ad5aaf4=""
                                class="flex flex-col items-center transition duration-300 transform cursor-pointer hover:scale-110">
                                <div data-v-8ad5aaf4=""
                                    class="subject-image-container border rounded-full w-14 h-14 md:w-16 md:h-16 border-dark-6">
                                    <div data-v-8ad5aaf4="" aria-hidden="true" class="bg-center bg-contain w-full h-full"
                                        style="background-image: url(&quot;https://cf.quizizz.com/image/subject-physical-ed.png&quot;);">
                                    </div>
                                </div> <span data-v-8ad5aaf4=""
                                    class="text-xs font-semibold text-center md:text-sm text-dark-3 whitespace-nowrap"><span
                                        data-v-8ad5aaf4="" translate="no" class="_i18n-container LANG_en"
                                        maxlenght="-1">Health
                                        &amp; PE</span></span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    
    
    <div class="videolist">
        <div class="flex ml-5 flex-wrap">
            
            <%
            let shuffledVideos = video.slice(); // Create a copy of the card array
            shuffledVideos.sort(() => Math.random() - 0.5); // Shuffle the copy
            
            let displayedVideos = 0;
            for(let Video of video) {
                if (displayedVideos >= 10) break;
                if (Video) {
                    displayedVideos++;
            %>
            <a href="/home/video/<%=Video._id%>" class=" ml-3 mb-2" style="width: 16em">
                <div style="max-height: 11em; min-height: 10em;">
                    <img class="rounded-lg" style="width: 100%;max-height: 11em; min-height: 10em;   " src="<%=Video.thumbnail%>" alt="" srcset="" >
    
                    </div>
        
                <div class="pt-1 recent-cardd">
                  <!-- <span>4:22</span> -->
                  <div class="content-card flex flexcontent-center">
                    <img src="<%=Video.author[0].photourl%>" class="userimg mb-3 w-10 rounded h-10 rounded-full" alt="" srcset=""  >
                    <div class="card-info ml-1">
                      <h2 aria-label="Track name" class=" font-medium  text-sm whitespace-nowrap overflow-hidden text-ellipsis" style="width: 16em;"><%=Video.title%></h2>
                      <div class="flex">
                        <span class="text-sm text-gray-400"><%=Video.author[0].username%></span>
                        <span class="ml-3 text-sm text-gray-400"><%=Video.viewcount%></span>
                      </div>
                    </div>
                  </div>
                </div>
              </a>
    
            <%}
                }
            %>
            <a href="/home/video/22" class="" style="width: 16em">
                <img class="rounded-lg" style="width: 100%" src="https://i.ytimg.com/vi/DIO5-BF8SzM/hq720.jpg?sqp=-oaymwEcCNAFEJQDSFXyq4qpAw4IARUAAIhCGAFwAcABBg==&rs=AOn4CLB8dJX49pJ1huZMcV8dLi9zZAuaPQ" alt="" srcset="">
        
                <div class="pt-1 recent-cardd">
                  <!-- <span>4:22</span> -->
                  <div class="content-card flex flexcontent-center">
                    <img src="https://api.time.com/wp-content/uploads/2014/09/brave.jpg?quality=85&amp;w=2100" class="userimg mb-3 w-10 rounded h-10 rounded-full" alt="" srcset="">
                    <div class="card-info ml-1">
                      <span class="text-sm font-medium w-full leading-3">Logan Paul vs. Daillon Danis: Face Off</span><br>
                      <div class="flex">
                        <span class="text-sm text-gray-400">Saml altma</span>
                        <span class="ml-3 text-sm text-gray-400">23k views</span>
                      </div>
                    </div>
                  </div>
                </div>
              </a>
              <a href="/home/video/22" class="ml-5" style="width: 16em">
                <img class="rounded-lg" style="width: 100%" src="https://i.ytimg.com/vi/-TNG-Ja6Kl0/hq720.jpg?sqp=-oaymwEcCNAFEJQDSFXyq4qpAw4IARUAAIhCGAFwAcABBg==&rs=AOn4CLCT-ZqvNyv2sQnrYc5JBD6oUSTuGAs" alt="" srcset="">
        
                <div class="pt-1 recent-cardd">
                  <!-- <span>4:22</span> -->
                  <div class="content-card flex flexcontent-center">
                    <img src="https://yt3.ggpht.com/ytc/AOPolaTEEuiBNC3ZvDRXQlRj6d0tfCDyl8aY-9z3sQeUhA=s68-c-k-c0x00ffffff-no-rj" class="userimg mb-3 w-10 rounded h-10 rounded-full" alt="" srcset="">
                    <div class="card-info ml-1">
                        
                      <span class="text-sm font-medium w-full leading-3">Learn Chinese Conversation for Elementary Students, Chinese English lesson/span><br>
                      <div class="flex">
                        <span class="text-sm text-gray-400">Mike tyson</span>
                        <span class="ml-3 text-sm text-gray-400">9k views</span>
                      </div>
                    </div>
                  </div>
                </div>
              </a>
        </div>
    </div>
        <section>
            <div class="mb-4">
                <div class="flex items-center pl-4"><i data-v-63245ebc=""
                        class="flex items-center text-brand-c fas fa-star  text-yellow-400" style="font-size: 20px;"></i>
                    <h2 aria-label="World Languages" class="text-sm md:text-2xl text-dark-2 ml-2 font-semibold"><span
                            translate="no" class="_i18n-container LANG_en" maxlenght="-1">General</span></h2>
                    <div class="hidden md:block ml-auto"><button data-v-100aaadc="" aria-label="See more" type="button"
                            translate="no"
                            class="ml-auto flex items-center justify-center px-4 py-1 text-sm font-semibold h-8 base bg-lilac-faded text-lilac hover:text-lilac-light active:text-lilac-dark rounded-full  secondary transition-colors duration-200 ease-in-out flex relative min-w-max"
                            data-cy="recommendations-see-more-btn"><!----> <!----> <span data-v-100aaadc="" class="title">
                                See more
                            </span> <!----> <svg class="w-4 h-4 ml-2" aria-hidden="true" fill="currentColor"
                                viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                                    clip-rule="evenodd"></path>
                            </svg> <!---->
                            <!----> <!----> <!----> </button></div>
                    <div class="block md:hidden ml-auto"><button data-v-100aaadc="" aria-label="See more" type="button"
                            translate="no"
                            class="ml-auto whitespace-nowrap flex items-center justify-center px-3 py-1 text-xs font-semibold h-6 base bg-lilac-faded text-lilac hover:text-lilac-light active:text-lilac-dark rounded-full  secondary transition-colors duration-200 ease-in-out flex relative min-w-max"><!---->
                            <!----> <span data-v-100aaadc="" class="title">
                                See more
                            </span> <!----> <i data-v-63245ebc="" data-v-100aaadc=""
                                class="flex items-center fas fa-chevron-right ml-2" style="font-size: 11px;"></i> <!---->
                            <!----> <!----> <!----> </button></div>
                </div>
               <div class="ml-4">
                <div class="flex flex-wrap">
                    <%
                    let shuffledCards = card.slice(); // Create a copy of the card array
                    shuffledCards.sort(() => Math.random() - 0.5); // Shuffle the copy
                    
                    let displayedCards = 0;
                    for(let Card of shuffledCards) {
                        if (displayedCards >= 10) break;
                        if (Card.author && Card.imageUrl && Card.cards.length > 1) {
                            displayedCards++;
                    %>
                <a href="/home/quiz/<%=Card._id %>" class="mb-2 bg-white ml-2 p-3 recent-cardd rounded-lg  border" style="width: 16em; height: 23em">
                    <div class="kr flex justify-between rounded-lg">
                      <!-- <article class="font-medium text-lg"> <%=Card.title %>  </article> -->
                      <h2 aria-label="Track name" class=" font-medium whitespace-nowrap overflow-hidden text-ellipsis"><%=Card.title %> </h2>
                      <!-- <button><i class="bi bi-three-dots"></i></button> -->
                    </div>
                    <br>
                    <div class="flex justify-center items-center">
                      <%if(!Card.imageUrl || Card.imageUrl == '/uploads/china_1687455698709.jpeg'){%>
                      <img style="
                          height: 8em;
                          max-height: 8em;
                          max-width: 15em;
                          min-width: 15em;
                        " class="w-full rounded-md" src="/uploads/ParadiseCity1_1690131738414.jpg" alt="" srcset="">
                        <%}else{%>
                        <img style="
                            height: 8em;
                            max-height: 8em;
                            max-width: 15em;
                            min-width: 15em;
                            " class="w-full rounded-md" src="<%=Card.imageUrl%>" alt="" srcset="">
                            <%}%>
    
                    </div>
                    <div class="flex justify-between">
                      <span class="text text-gray-600">
                        <%=Card.cards.length%> tearms
                      </span>
                      <div class="flex items-center ">
                        <i class="bi bi-play-fill text-red-800"></i>
                        <span class="text text-gray-600">  <%=Card.plays%> plays </span>
    
                      </div>
                    </div>
                    <br>
            
                    <div>
                      <span class="text-sm">Keys</span>
                      <div class="flex flex-wrap" style="width: 8em">
                        <span class=" bg-purple-200 mb-3 text-xs text-black font-medium mr-2 px-2.5 py-0.5 rounded">
                              <%= Card.category %>
                        </span>
                      </div>
                    </div>
                    <br>
                    <div style="margin-top: 0em" class="about flex w-full justify-between">
                      <div class="flex items-center  text-center">
                        <img class="rounded-full w-8 h-8" src="<%=Card.author.photourl %>" alt="" srcset="">
                        <span aria-label="Track name" class="ml-1 font-medium whitespace-nowrap overflow-hidden text-ellipsis"><%=Card.author.username %> </span>
                      </div>
                      <div class="tags text-center items-center content-center ml-5 flex">
                        <span class="bg-red-700 text-white text-xs font-medium mr-2 px-2.5 py-0.5 rounded">
                          Education
                        </span>
                      </div>
                    </div>
                  </a>
                  <% } 
                 } %>
            </div>
            <br>
            <hr>
    <div class="p-3 bg-gray-200 rounded-xl"> 
            <div class="flex overflow-hidden">
        <% let displayedImages = 0; %>
        <% for(cardimage of image) { %>
            <% if (displayedImages >= 5) break; // Stop rendering after 5 images %>
            <a href="/home/image/<%=cardimage._id%>" class="ml-3 mb-2" style="width: 16em">
                <img class="rounded-lg" style="width: 100%; height: 20em" src="<%=cardimage.imageurl%>" alt="" srcset="">
                <div class="p-2 recent-cardd ">
                    <!-- <span>4:22</span> -->
                    <div class="content-card flex items-center content-center">
                        <img src="<%=cardimage.author.photourl%>" class="userimg mb-3 w-10 rounded h-10 rounded-full" alt="" srcset="">
                        <div class="card-info ml-2">
                            <span class="text-md font-medium w-full leading-3"><%=cardimage.title%></span><br>
                            <div class="flex">
                                <span class="text-sm text-gray-400"><%=cardimage.author.username%></span>
                                <span class="ml-5 bg-gray-100 mb-1 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded">Pdf</span>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
            <% displayedImages++; // Increment the counter %>
        <% } %>
    </div>
    
    </div>
               </div>
            </div>
        </section>
       
    
        <section class="mb-4">
            <h2 aria-label="TOp picks" class="text-sm md:text-2xl text-dark-2 ml-2 font-semibold"><span translate="no"
                    class="_i18n-container LANG_en" maxlenght="-1">World Languages</span></h2>
        </section>

    </div>
        <script>
        const search = document.getElementById('searchinput')
        const recentSearch = document.getElementById('saerch-recent')
        search.addEventListener('click', function (e) {
            recentSearch.classList.toggle('hidden')
        })
    </script>